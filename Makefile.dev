
include ./Makefile.constants

COMMON_VARS = "EMAIL=${TEST_EMAIL}"\
    "STACK_NAME=${STACK_NAME}"\
    "DOCKER_IMAGE_CELERYWORKER=${DOCKER_IMAGE_CELERYWORKER}"\
    "BOCRA_DATA=${BOCRA_DATA}"\
    "BOCRA_PGADMIN_ADDRESS=${BOCRA_PGADMIN_ADDRESS}"\
    "BOCRA_DB_ADDRESS=${BOCRA_DB_ADDRESS}"\
    "BOCRA_API_ADDRESS=${BOCRA_API_ADDRESS}"\
    "ACME_STORAGE=${ACME_STORAGE}"\
    "TRAEFIK_PUBLIC_NETWORK=${TRAEFIK_PUBLIC_NETWORK}"\
    "TRAEFIK_TAG=${TRAEFIK_TAG}"\
    "TRAEFIK_PUBLIC_TAG=${TRAEFIK_PUBLIC_TAG}"\
    "TRAEFIK_USER=${TRAEFIK_USER}"\
    "TRAEFIK_PASSWORD=${TRAEFIK_PASSWORD}"\
    "BOCRA_WEB_ADDRESS=${BOCRA_WEB_ADDRESS}"\
    "BOCRA_PIPELINE_ADDRESS=${BOCRA_PIPELINE_ADDRESS}"\
    "POSTGRES_SERVER=${BOCRA_DB_ADDRESS}"\
    "POSTGRES_SERVER_PORT=${POSTGRES_SERVER_PORT}"\
    "POSTGRES_USER=${POSTGRES_USER}"\
    "POSTGRES_PASSWORD=${POSTGRES_PASSWORD}"\
    "POSTGRES_DB=${POSTGRES_DB}"\
    "PGADMIN_LISTEN_PORT=${PGADMIN_LISTEN_PORT}"\
    "PGADMIN_DEFAULT_EMAIL=${PGADMIN_DEFAULT_EMAIL}"\
    "PGADMIN_DEFAULT_PASSWORD=${PGADMIN_DEFAULT_PASSWORD}"\
    "KEYCLOAK_DB=${KEYCLOAK_DB}"\
    "KEYCLOAK_USER=${KEYCLOAK_USER}"\
    "KEYCLOAK_PASSWORD=${KEYCLOAK_PASSWORD}"\
    "KEYCLOAK_REALM=${KEYCLOAK_REALM}"\
    "KEYCLOAK_SERVER_PORT=${KEYCLOAK_SERVER_PORT}"\
    "API_SERVER_PORT=${API_SERVER_PORT}"\
    "API_UPLOADS=${API_UPLOADS}"\
    "KEYCLOAK_MAIN_CLIENT=${KEYCLOAK_MAIN_CLIENT}"\
    "KEYCLOAK_PIPELINE_CLIENT=${KEYCLOAK_PIPELINE_CLIENT}"\
    "KEYCLOAK_API_CLIENT=${KEYCLOAK_API_CLIENT}"\
    "PIPELINE_SERVER_PORT=${PIPELINE_SERVER_PORT}"\
    "PIPELINE_FILES=${PIPELINE_FILES}"\
    "BEAGLE_JAR = ${BEAGLE_JAR}"\
    "BEAGLE_REF_SUFFIX = ${BEAGLE_REF_SUFFIX}"\
    "BEAGLE_MAP = ${BEAGLE_MAP}"\
    "GENOTYPE_FILE = ${GENOTYPE_FILE}"\
    "BOCRA_UPLOADS=${BOCRA_UPLOADS}"\
    "RECAPTURE_SITE_KEY=${RECAPTURE_SITE_KEY}"\
    "RECAPTURE_SECRET=${RECAPTURE_SECRET}"\
    "GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}"\

LOCAL_ENV = printf "%s\n" \
    "DOMAIN=${LOCAL_DOMAIN}"\
    "REDIRECT_URI=${LOCAL_REDIRECT_URI}"\
    "SMTP_HOST=${LOCAL_SMTP_HOST}"\
    "BOCRA_KEYCLOAK_ADDRESS=${BOCRA_KEYCLOAK_LOCAL_ADDRESS}"\
    "KEYCLOAK_AUTH_URL=${KEYCLOAK_LOCAL_BASE_URL}"\
    "KEYCLOAK_PIPELINE_SECRET=${KEYCLOAK_LOCAL_PIPELINE_SECRET}"\
    "KEYCLOAK_API_SECRET=${KEYCLOAK_LOCAL_API_SECRET}"\
    "ACME_EMAIL=${LOCAL_ACME_EMAIL}"\
    "WEB_SUBDOMAIN=bocra."\
    ${COMMON_VARS}\
    >> .env

TEST_ENV = printf "%s\n" \
    "DOMAIN=${TEST_DOMAIN}"\
    "REDIRECT_URI=${TEST_REDIRECT_URI}"\
    "SMTP_HOST=${TEST_SMTP_HOST}"\
    "BOCRA_KEYCLOAK_ADDRESS=${BOCRA_KEYCLOAK_TEST_ADDRESS}"\
    "KEYCLOAK_AUTH_URL=${KEYCLOAK_TEST_BASE_URL}"\
    "KEYCLOAK_PIPELINE_SECRET=${KEYCLOAK_TEST_PIPELINE_SECRET}"\
    "KEYCLOAK_API_SECRET=${KEYCLOAK_TEST_API_SECRET}"\
    "ACME_EMAIL=${TEST_ACME_EMAIL}"\
    "WEB_SUBDOMAIN=bocra."\
    ${COMMON_VARS}\
    >> .env

LIVE_ENV = printf "%s\n" \
    "DOMAIN=${LIVE_DOMAIN}"\
    "REDIRECT_URI=${LIVE_REDIRECT_URI}"\
    "SMTP_HOST=${LIVE_SMTP_HOST}"\
    "BOCRA_KEYCLOAK_ADDRESS=${BOCRA_KEYCLOAK_LIVE_ADDRESS}"\
    "KEYCLOAK_AUTH_URL=${KEYCLOAK_LIVE_BASE_URL}"\
    "KEYCLOAK_PIPELINE_SECRET=${KEYCLOAK_LIVE_PIPELINE_SECRET}"\
    "KEYCLOAK_API_SECRET=${KEYCLOAK_LIVE_API_SECRET}"\
    "ACME_EMAIL=${LIVE_ACME_EMAIL}"\
    "WEB_SUBDOMAIN="\
    ${COMMON_VARS}\
    >> .env
