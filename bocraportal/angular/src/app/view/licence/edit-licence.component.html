<!-- Generated by andromda-andromda cartridge (angular\app\view\view.component.html.vsl) DO NOT EDIT! -->
<div class="card container">
	<div class="card-body">
    	<form [formGroup]="editLicenceForm">
			<section>
				<div class="col my-3 view-buttons">
					<button type="button" color="accent" (click)="editLicenceSave()" class="btn btn-primary">
						<span translate>save</span>
					</button>
					<button type="button" color="accent" (click)="editLicenceSearch()" class="btn btn-primary">
						<span translate>search</span>
					</button>
					<button type="button" color="accent" (click)="editLicenceDelete()" class="btn btn-primary" *ngIf="licenceId && deleteUnrestricted">
						<span translate>delete</span>
					</button>
					<button type="button" color="accent" (click)="editLicenceDocuments()" class="btn btn-primary">
						<span translate>documents</span>
					</button>
					<button color="accent" type="button" (click)="editLicenceFormReset()" class="btn btn-primary" ><span translate>reset</span></button>
				</div>
			</section>
			<div *ngIf="success | async" class="alert alert-success" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div *ngIf="error | async" class="alert alert-danger" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div formGroupName="licence">
				<fieldset class="mb-3" formGroupName="licenceType">
				    <legend id="licenceLicenceType_label" class="col-sm-2 col-form-label" for="licenceLicenceType"><span translate>licence.type</span>*</legend>
				    <div class="col my-3 view-buttons">
				        <button type="button" (click)="licenceLicenceTypeAddDialog()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#licenceLicenceTypeModal">
				            <mat-icon>add_box</mat-icon>
				        </button>
				        <button type="button" (click)="licenceLicenceTypeClear()" class="btn btn-primary">
				            <mat-icon>clear</mat-icon>
				        </button>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenceTypeId" class="col-sm-2 col-form-label" translate>id</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenceTypeId" value="{{licenceLicenceType?.id }}">
				        </div>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenceTypeCode" class="col-sm-2 col-form-label" translate>code</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenceTypeCode" value="{{licenceLicenceType?.code }}">
				        </div>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenceTypeName" class="col-sm-2 col-form-label" translate>name</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenceTypeName" value="{{licenceLicenceType?.name }}">
				        </div>
				    </div>
				    <div *ngIf="editLicenceForm.invalid && licenceLicenceTypeControl.invalid && (licenceLicenceTypeControl.dirty || licenceLicenceTypeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceLicenceTypeControl.errors['required']">
				            <span translate>licence.type.required</span>
				        </div>
				    </div>
				</fieldset>
				<fieldset class="mb-3" formGroupName="licensee">
				    <legend id="licenceLicensee_label" class="col-sm-2 col-form-label" for="licenceLicensee"><span translate>licensee</span>*</legend>
				    <div class="col my-3 view-buttons">
				        <button type="button" (click)="licenceLicenseeAddDialog()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#licenceLicenseeModal">
				            <mat-icon>add_box</mat-icon>
				        </button>
				        <button type="button" (click)="licenceLicenseeClear()" class="btn btn-primary">
				            <mat-icon>clear</mat-icon>
				        </button>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenseeId" class="col-sm-2 col-form-label" translate>id</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenseeId" value="{{licenceLicensee?.id }}">
				        </div>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenseeUin" class="col-sm-2 col-form-label" translate>uin</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenseeUin" value="{{licenceLicensee?.uin }}">
				        </div>
				    </div>
				    <div class="row mb-3">
				        <label for="licenceLicenseeLicenseeName" class="col-sm-2 col-form-label" translate>licensee.name</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="licenceLicenseeLicenseeName" value="{{licenceLicensee?.licenseeName }}">
				        </div>
				    </div>
				    <div *ngIf="editLicenceForm.invalid && licenceLicenseeControl.invalid && (licenceLicenseeControl.dirty || licenceLicenseeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceLicenseeControl.errors['required']">
				            <span translate>licensee.required</span>
				        </div>
				    </div>
				</fieldset>
				<div class="mb-3">
				    <label id="licenceStatus_label" class="col-sm-2 col-form-label" for="licenceStatus"><span translate>status</span>*</label>
				    <select id="licenceStatus" class="form-select" formControlName="status"  required>
				        <option></option>
				        <option *ngFor="let key of statusOptions" [value]="key">
				            {{ statusT[key] }}
				        </option>
				    </select>
				    <div *ngIf="editLicenceForm.invalid && licenceStatusControl.invalid && (licenceStatusControl.dirty || licenceStatusControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceStatusControl.errors['required']">
				            <span translate>status.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="licenceLicenceNumber_label" class="col-sm-2 col-form-label" for="licenceLicenceNumber"><span translate>licence.number</span>*</label>
				    <input type="text" id="licenceLicenceNumber" class="form-control" name="licenceNumber" formControlName="licenceNumber" required/>
				    <div *ngIf="editLicenceForm.invalid && licenceLicenceNumberControl.invalid && (licenceLicenceNumberControl.dirty || licenceLicenceNumberControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceLicenceNumberControl.errors['required']">
				            <span translate>licence.number.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="licenceProvisional_label" class="col-sm-2 form-check-label" for="licenceProvisional"><span translate>provisional</span></label>
				    <input type="checkbox" id="licenceProvisional" class="form-check-input" formControlName="provisional" onLabel="#{yes}" offLabel="#{messages['no']}" onIcon="ui-icon-check" offIcon="ui-icon-close"/>
				</div>
				<div class="mb-3">
				    <label id="licenceStartDate_label" class="col-sm-2 col-form-label" for="licenceStartDate"><span translate>start.date</span>*</label>
				    <input type="date" id="licenceStartDate" class="form-control" formControlName="startDate"  required navigator="true" showOn="button"/>
				    <div *ngIf="editLicenceForm.invalid && licenceStartDateControl.invalid && (licenceStartDateControl.dirty || licenceStartDateControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceStartDateControl.errors['required']">
				            <span translate>start.date.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="licenceEndDate_label" class="col-sm-2 col-form-label" for="licenceEndDate"><span translate>end.date</span>*</label>
				    <input type="date" id="licenceEndDate" class="form-control" formControlName="endDate"  required navigator="true" showOn="button"/>
				    <div *ngIf="editLicenceForm.invalid && licenceEndDateControl.invalid && (licenceEndDateControl.dirty || licenceEndDateControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="licenceEndDateControl.errors['required']">
				            <span translate>end.date.required</span>
				        </div>
				    </div>
				</div>
                <mat-tab-group animationDuration="0ms" class = "view-tabs">
                    <mat-tab label="{{'documents' | translate}}">
		            	<div>
		                    <button type="button" (click)="licenceDocumentsAddDialog()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#licenceDocumentsModal">
		                        <mat-icon>add_box</mat-icon>
		                    </button>
		            		<mat-table matSort [dataSource]="licenceDocuments" #documentsSort="matSort" class="table table-bordered table-striped" style="width: 100%;">
		            			<ng-container matColumnDef="actions">
		            				<mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
		                            <mat-cell *matCellDef="let row; index as i">
		                                <button type="button" color="accent" (click)="deleteFromLicenceDocuments(i)" class="btn btn-primary">
		                                    <mat-icon>delete</mat-icon>
		                                </button>
		                                <button type="button" color="accent" (click)="doEditLicenceDocuments(row)" class="btn btn-primary">
		                                    <mat-icon>edit</mat-icon>
		                                </button>
		                            </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="id">
		            				<mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentId">
		            				<mat-header-cell *matHeaderCellDef translate>document.id</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentId }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentName">
		            				<mat-header-cell *matHeaderCellDef translate>document.name</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentName }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentType.name">
		            				<mat-header-cell *matHeaderCellDef translate>document.type.name</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentType?.name }} </mat-cell>
		            			</ng-container>
		            			<mat-header-row *matHeaderRowDef="licenceDocumentsModalColumns"></mat-header-row>
		            			<mat-row *matRowDef="let row; columns: licenceDocumentsModalColumns;"></mat-row>
		            		</mat-table>
		            		<mat-paginator #licenceDocumentsPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
		            	</div>
                    </mat-tab>
                </mat-tab-group>
        	</div>
    	</form>
	</div>
</div>
<div class="modal fade" id="licenceDocumentsModal" tabindex="-1" aria-labelledby="licenceDocumentsLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="licenceDocumentsAddLabel" translate>
                    action.select
                    <span translate>documents</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="licenceDocumentsSearchField"
                                id="licenceDocumentsSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="licenceDocumentsSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="licenceDocuments$ | async" #licenceDocumentsModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-checkbox (change)="licenceDocumentsSelected($event, row)"></mat-checkbox>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentId">
                     <mat-header-cell *matHeaderCellDef translate>document.id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentId }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentName">
                     <mat-header-cell *matHeaderCellDef translate>document.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentName }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentType.name">
                     <mat-header-cell *matHeaderCellDef translate>document.type.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentType?.name }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="licenceDocumentsModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: licenceDocumentsModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #licenceDocumentsModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedLicenceDocuments()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for licenceType -->
<div class="modal fade" id="licenceLicenceTypeModal" tabindex="-1" aria-labelledby="licenceLicenceTypeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="licenceLicenceTypeAddLabel" translate>
                    action.select
                    <span translate>licence.type</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="licenceLicenceTypeSearchField"
                                id="licenceLicenceTypeSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="licenceLicenceTypeSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="licenceLicenceTypes$ | async" #licenceLicenceTypeModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="licenceLicenceTypeSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='licenceLicenceTypeSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="code">
                     <mat-header-cell *matHeaderCellDef translate>code</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.code }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="name">
                     <mat-header-cell *matHeaderCellDef translate>name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.name }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="licenceLicenceTypeModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: licenceLicenceTypeModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #licenceLicenceTypeModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedLicenceLicenceType()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for licensee -->
<div class="modal fade" id="licenceLicenseeModal" tabindex="-1" aria-labelledby="licenceLicenseeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="licenceLicenseeAddLabel" translate>
                    action.select
                    <span translate>licensee</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="licenceLicenseeSearchField"
                                id="licenceLicenseeSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="licenceLicenseeSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="licenceLicensees$ | async" #licenceLicenseeModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="licenceLicenseeSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='licenceLicenseeSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="uin">
                     <mat-header-cell *matHeaderCellDef translate>uin</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.uin }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licenseeName">
                     <mat-header-cell *matHeaderCellDef translate>licensee.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licenseeName }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="licenceLicenseeModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: licenceLicenseeModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #licenceLicenseeModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedLicenceLicensee()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

