// Generated by andromda-angular cartridge (view\view.component.imp.ts.vsl) CAN EDIT!
import { Component, Injector } from '@angular/core';
import { LicenseeGroupVO } from '@app/model/bw/org/bocra/portal/group/licensee-group-vo';
import { SearchGroupsComponent } from '@app/view/group/search-groups.component';
import { SearchGroupsEditForm } from '@app/view/group/search-groups.component';
import { SearchGroupsSearchForm } from '@app/view/group/search-groups.component';
import { select } from '@ngrx/store';
import { Observable } from 'rxjs';

import * as groupSelectors from './store/group.selector';
import * as groupActions from './store/group.action';
@Component({
  selector: 'app-search-groups',
  templateUrl: './search-groups.component.html',
  styleUrls: ['./search-groups.component.scss'],
})
export class SearchGroupsComponentImpl extends SearchGroupsComponent {
  licenseeGroups$: Observable<LicenseeGroupVO[]>;
  constructor(private injector: Injector) {
    super(injector);
    this.licenseeGroups$ = this.store.pipe(select(groupSelectors.selectGroups));
  }

  beforeOnInit() {}

  afterOnInit() {
  }

  doNgAfterViewInit() {
    this.licenseeGroups$.subscribe(groups => {
      this.setGroups(groups);
    });
  }

  handleFormChanges(change: any) {}

  /**
   * This method may be overwritten
   */
  afterSetSearchGroupsEditForm(form: SearchGroupsEditForm): void {}

  /**
   * This method may be overwritten
   */
  beforeSearchGroupsEdit(form: SearchGroupsEditForm): void {}

  /**
   * This method may be overwritten
   */
  afterSearchGroupsEdit(form: SearchGroupsEditForm): void {}

  /**
   * This method may be overwritten
   */
  afterSetSearchGroupsSearchForm(form: SearchGroupsSearchForm): void {}

  /**
   * This method may be overwritten
   */
  beforeSearchGroupsSearch(form: SearchGroupsSearchForm): void {
    this.store.dispatch(groupActions.searchGroups({ searchCriteria: form.searchCriteria }));
  }

  /**
   * This method may be overwritten
   */
  afterSearchGroupsSearch(form: SearchGroupsSearchForm): void {}
}
