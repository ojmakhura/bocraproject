// Generated by andromda-angular cartridge (app\usecase\reducer.store.ts.vsl) DO NOT EDIT
import { Action, createFeature, createReducer, on } from '@ngrx/store';
import { UrlGuardCriteria } from '@app/model/bw/org/bocra/portal/guard/url-guard-criteria';
import { UrlGuardVO } from '@app/model/bw/org/bocra/portal/guard/url-guard-vo';
import * as GuardActions from './guard.action';

export const guardKey = "guard";

export interface GuardState {
    guard: UrlGuardVO;
    guards: UrlGuardVO[];
    searchCriteria: UrlGuardCriteria
    loading: boolean;
    id: number;
    error: any
}

export const initialState: GuardState = {
    guard: new UrlGuardVO,
    guards: [],
    searchCriteria: new UrlGuardCriteria,
    loading: false,
    id: 0,
    error: null
};

export const guardReducer = createReducer(
    initialState,
    on(GuardActions.saveGuard, (state, action) => ({
        ...state,
        guard: action.guard
    })),
    on(GuardActions.saveGuardSuccess, (state, action) => ({
        ...state,
        guard: action.guard,
        guards: [...state.guards, action.guard]
    })),
    on(GuardActions.findById, (state, action) => ({
        ...state,
        id: action.id
    })),
    on(GuardActions.findByIdSuccess, (state, action) => ({
        ...state,
        guard: action.guard,
        guards: [...state.guards, action.guard]
    })),
    on(GuardActions.loadAll, (state, action) => ({
        ...state
    })),
    on(GuardActions.loadAllSuccess, (state, action) => ({
        ...state,
        guard: new UrlGuardVO,
        guardArray: action.guards
    })),
    on(GuardActions.searchGuards, (state, action) => ({
        ...state,
        searchCriteria: action.searchCriteria
    })),
    on(GuardActions.searchGuardsSuccess, (state, action) => ({
        ...state,
        guard: new UrlGuardVO,
        searchCriteria: new UrlGuardCriteria,
        guardArray: action.guards
    })),
    on(GuardActions.guardActionFailure, (state, action) => ({
        ...state,
        error: action.error
    }))
);

export const guardFeature = createFeature(
    {
        name: guardKey,
        reducer: guardReducer
    }
);