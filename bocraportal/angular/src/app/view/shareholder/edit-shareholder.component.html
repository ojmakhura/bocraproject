<!-- Generated by andromda-andromda cartridge (angular\app\view\view.component.html.vsl) DO NOT EDIT! -->
<div class="card container">
	<div class="card-body">
    	<form [formGroup]="editShareholderForm">
			<section>
				<div class="text-end mb-3">
					<button type="button" color="accent" (click)="editShareholderSearch()" class="btn btn-primary">
						<span translate>search</span>
					</button>
					<!-- <button type="button" color="accent" (click)="editShareholderAddShareholder()" class="btn btn-info" *ngIf="shareholderId">
						<span translate>add.shareholder</span>
					</button>
					<button type="button" color="accent" (click)="editShareholderAddDocument()" class="btn btn-info" *ngIf="shareholderId">
						<span translate>add.document</span>
					</button> -->
				</div>
			</section>
			<div *ngIf="loading | async">
				<app-loader [isLoading]="loading | async"></app-loader>
			</div>
			<div *ngIf="success | async" class="alert alert-success" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div *ngIf="error | async" class="alert alert-danger" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div formGroupName="shareholder">
				<div class="mb-3">
				    <label id="shareholderShareholderId_label" class="col-sm-2 col-form-label" for="shareholderShareholderId"><span translate>shareholder.id</span>*</label>
				    <input type="text" id="shareholderShareholderId" class="form-control" name="shareholderId" formControlName="shareholderId" required/>
				    <div *ngIf="editShareholderForm.invalid && shareholderShareholderIdControl.invalid && (shareholderShareholderIdControl.dirty || shareholderShareholderIdControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="shareholderShareholderIdControl.errors['required']">
				            <span translate>shareholder.id.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="shareholderType_label" class="col-sm-2 col-form-label" for="shareholderType"><span translate>type</span>*</label>
				    <select id="shareholderType" class="form-select" formControlName="type"  required>
				        <option></option>
				        <option *ngFor="let key of typeOptions" [value]="key">
				            {{ typeT[key] }}
				        </option>
				    </select>
				    <div *ngIf="editShareholderForm.invalid && shareholderTypeControl.invalid && (shareholderTypeControl.dirty || shareholderTypeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="shareholderTypeControl.errors['required']">
				            <span translate>type.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="shareholderName_label" class="col-sm-2 col-form-label" for="shareholderName"><span translate>name</span>*</label>
				    <input type="text" id="shareholderName" class="form-control" name="name" formControlName="name" required/>
				    <div *ngIf="editShareholderForm.invalid && shareholderNameControl.invalid && (shareholderNameControl.dirty || shareholderNameControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="shareholderNameControl.errors['required']">
				            <span translate>name.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="shareholderAddress_label" class="col-sm-2 col-form-label" for="shareholderAddress"><span translate>address</span></label>
				    <input type="text" id="shareholderAddress" class="form-control" name="address" formControlName="address"/>
				</div>
				<div class="text-end mt-4 mb-3">
					<button type="button" color="accent" (click)="editShareholderSave()" class="btn btn-outline-primary">
						<span translate>save</span>
					</button>
					<button type="button" color="accent" (click)="editShareholderDelete()" class="btn btn-outline-primary">
						<span translate>delete</span>
					</button>
					<button color="accent" type="button" (click)="editShareholderFormReset()" class="btn btn-outline-primary" ><span translate>reset</span></button>

				</div>
                <mat-tab-group animationDuration="0ms" class = "view-tabs" *ngIf="shareholderId">
                    <mat-tab label="{{'documents' | translate}}">
		            	<div>
		                    <button type="button" (click)="editShareholderAddDocument()" class="btn btn-primary">
		                        <mat-icon>add_box</mat-icon>
		                    </button>
		            		<mat-table matSort [dataSource]="shareholderDocuments" #documentsSort="matSort" class="table table-bordered table-striped" style="width: 100%;">
		            			<ng-container matColumnDef="actions">
		            				<mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
		                            <mat-cell *matCellDef="let row; index as i">
		                                <div>
											<button type="button" color="accent" (click)="deleteFromShareholderDocuments(i)" class="btn btn-outline-primary">
												<mat-icon>delete</mat-icon>
											</button>
											<button type="button" color="accent" (click)="doEditShareholderDocuments(row)" class="btn btn-info" *ngIf="false">
												<mat-icon>edit</mat-icon>
											</button>
										</div>
		                            </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="id">
		            				<mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentId">
		            				<mat-header-cell *matHeaderCellDef translate>document.id</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentId }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentType.name">
		            				<mat-header-cell *matHeaderCellDef translate>document.type.name</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentType?.name }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="documentName">
		            				<mat-header-cell *matHeaderCellDef translate>document.name</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.documentName }} </mat-cell>
		            			</ng-container>
		            			<mat-header-row *matHeaderRowDef="shareholderDocumentsModalColumns"></mat-header-row>
		            			<mat-row *matRowDef="let row; columns: shareholderDocumentsModalColumns;"></mat-row>
		            		</mat-table>
		            		<mat-paginator #shareholderDocumentsPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
		            	</div>
                    </mat-tab>
                    <mat-tab label="{{'shares' | translate}}">
		            	<div>
		                    <button type="button" (click)="editShareholderAddShareholder()" class="btn btn-primary">
		                        <mat-icon>add_box</mat-icon>
		                    </button>
		            		<mat-table matSort [dataSource]="shareholderShares" #sharesSort="matSort" class="table table-bordered table-striped" style="width: 100%;">
		            			<ng-container matColumnDef="actions">
		            				<mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
		                            <mat-cell *matCellDef="let row; index as i">
		                                <div>
											<button type="button" color="accent" (click)="deleteFromShareholderShares(i)" class="btn btn-outline-primary">
												<mat-icon>delete</mat-icon>
											</button>
											<button type="button" color="accent" (click)="doEditShareholderShares(row)" class="btn btn-info" *ngIf="false">
												<mat-icon>edit</mat-icon>
											</button>
										</div>
		                            </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="id">
		            				<mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="licensee.uin">
		            				<mat-header-cell *matHeaderCellDef translate>licensee.uin</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.licenseeUin }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="licensee.licenseeName">
		            				<mat-header-cell *matHeaderCellDef translate>licensee.name</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.licenseeName }} </mat-cell>
		            			</ng-container>
		            			<ng-container matColumnDef="numberOfShares">
		            				<mat-header-cell *matHeaderCellDef translate>number.of.shares</mat-header-cell>
		                            <mat-cell *matCellDef="let row"> {{ row?.numberOfShares }} </mat-cell>
		            			</ng-container>
		            			<mat-header-row *matHeaderRowDef="shareholderSharesModalColumns"></mat-header-row>
		            			<mat-row *matRowDef="let row; columns: shareholderSharesModalColumns;"></mat-row>
		            		</mat-table>
		            		<mat-paginator #shareholderSharesPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
		            	</div>
                    </mat-tab>
                </mat-tab-group>
        	</div>
    	</form>
	</div>
</div>
<div class="modal fade" id="shareholderDocumentsModal" tabindex="-1" aria-labelledby="shareholderDocumentsLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="shareholderDocumentsAddLabel" translate>
                    action.select
                    <span translate>documents</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="shareholderDocumentsSearchField"
                                id="shareholderDocumentsSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="shareholderDocumentsSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="shareholderDocumentsDataSource" #shareholderDocumentsModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-checkbox (change)="shareholderDocumentsSelected($event, row)"></mat-checkbox>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentId">
                     <mat-header-cell *matHeaderCellDef translate>document.id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentId }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentType.name">
                     <mat-header-cell *matHeaderCellDef translate>document.type.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentType?.name }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="documentName">
                     <mat-header-cell *matHeaderCellDef translate>document.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.documentName }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="shareholderDocumentsModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: shareholderDocumentsModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #shareholderDocumentsModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedShareholderDocuments()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="shareholderSharesModal" tabindex="-1" aria-labelledby="shareholderSharesLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="shareholderSharesAddLabel" translate>
                    action.select
                    <span translate>shares</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="shareholderSharesSearchField"
                                id="shareholderSharesSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="shareholderSharesSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="shareholderSharesDataSource" #shareholderSharesModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-checkbox (change)="shareholderSharesSelected($event, row)"></mat-checkbox>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licensee.uin">
                     <mat-header-cell *matHeaderCellDef translate>licensee.uin</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licensee?.uin }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licensee.licenseeName">
                     <mat-header-cell *matHeaderCellDef translate>licensee.licensee.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licensee?.licenseeName }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="numberOfShares">
                     <mat-header-cell *matHeaderCellDef translate>number.of.shares</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.numberOfShares }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="shareholderSharesModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: shareholderSharesModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #shareholderSharesModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedShareholderShares()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

