<!-- Generated by andromda-andromda cartridge (angular\app\view\view.component.html.vsl) DO NOT EDIT! -->
<h1 mat-dialog-title translate>new.document</h1>
<div mat-dialog-content class="container">
	<div class="card-body">
    	<form [formGroup]="newDocumentForm">
			<div *ngIf="success | async" class="alert alert-success" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div *ngIf="error | async" class="alert alert-danger" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div formGroupName="document">
				<fieldset class="mb-3" formGroupName="documentType">
				    <legend id="documentDocumentType_label" class="col-sm-2 col-form-label" for="documentDocumentType"><span translate>document.type</span>*</legend>
				    <div class="col my-3 view-buttons">
				        <button type="button" (click)="documentDocumentTypeAddDialog()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#documentDocumentTypeModal">
				            <mat-icon>add_box</mat-icon>
				        </button>
				        <button type="button" (click)="documentDocumentTypeClear()" class="btn btn-primary">
				            <mat-icon>clear</mat-icon>
				        </button>
				    </div>
				    <div class="row mb-3">
				        <label for="documentDocumentTypeName" class="col-sm-2 col-form-label" translate>name</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="documentDocumentTypeName" value="{{documentDocumentType?.name }}">
				        </div>
				    </div>
				    <div *ngIf="newDocumentForm.invalid && documentDocumentTypeControl.invalid && (documentDocumentTypeControl.dirty || documentDocumentTypeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="documentDocumentTypeControl.errors['required']">
				            <span translate>document.type.required</span>
				        </div>
				    </div>
				</fieldset>
				<div class="mb-3">
				    <label id="documentDocumentName_label" class="col-sm-2 col-form-label" for="documentDocumentName"><span translate>document.name</span>*</label>
				    <input type="text" id="documentDocumentName" class="form-control" name="documentName" formControlName="documentName" required/>
				    <div *ngIf="newDocumentForm.invalid && documentDocumentNameControl.invalid && (documentDocumentNameControl.dirty || documentDocumentNameControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="documentDocumentNameControl.errors['required']">
				            <span translate>document.name.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="documentFile_label" class="col-sm-2 col-form-label" for="documentFile"><span translate>file</span>*</label>
				    <input type="file" id="documentFile" class="form-control" (change)="onFileSelected($event)" required/>
				    <div *ngIf="newDocumentForm.invalid && documentFileControl.invalid && (documentFileControl.dirty || documentFileControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="documentFileControl.errors['required']">
				            <span translate>file.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="documentDocumentId_label" class="col-sm-2 col-form-label" for="documentDocumentId"><span translate>document.id</span></label>
				    <input type="text" id="documentDocumentId" class="form-control" name="documentId" formControlName="documentId"/>
				</div>
        	</div>
    	</form>
	</div>
</div>
<div mat-dialog-actions>
	<button type="button" class="btn btn-primary" color="accent" mat-dialog-close translate>action.cancel</button>
	<button type="button" class="btn btn-primary" color="accent" (click)="dialogDone()" translate>action.done</button>
</div>
<!-- Modal for licence -->
<div class="modal fade" id="documentLicenceModal" tabindex="-1" aria-labelledby="documentLicenceLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="documentLicenceAddLabel" translate>
                    action.select
                    <span translate>licence</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="documentLicenceSearchField"
                                id="documentLicenceSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="documentLicenceSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="documentLicences$ | async" #documentLicenceModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="documentLicenceSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='documentLicenceSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="status">
                     <mat-header-cell *matHeaderCellDef translate>status</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.status }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licenceNumber">
                     <mat-header-cell *matHeaderCellDef translate>licence.number</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licenceNumber }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licensee.licenseeName">
                     <mat-header-cell *matHeaderCellDef translate>licensee.licensee.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licensee?.licenseeName }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="startDate">
                     <mat-header-cell *matHeaderCellDef translate>start.date</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.startDate }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="endDate">
                     <mat-header-cell *matHeaderCellDef translate>end.date</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.endDate }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="documentLicenceModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: documentLicenceModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #documentLicenceModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedDocumentLicence()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for licensee -->
<div class="modal fade" id="documentLicenseeModal" tabindex="-1" aria-labelledby="documentLicenseeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="documentLicenseeAddLabel" translate>
                    action.select
                    <span translate>licensee</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="documentLicenseeSearchField"
                                id="documentLicenseeSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="documentLicenseeSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="documentLicensees$ | async" #documentLicenseeModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="documentLicenseeSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='documentLicenseeSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="uin">
                     <mat-header-cell *matHeaderCellDef translate>uin</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.uin }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="licenseeName">
                     <mat-header-cell *matHeaderCellDef translate>licensee.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.licenseeName }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="documentLicenseeModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: documentLicenseeModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #documentLicenseeModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedDocumentLicensee()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for documentType -->
<div class="modal fade" id="documentDocumentTypeModal" tabindex="-1" aria-labelledby="documentDocumentTypeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="documentDocumentTypeAddLabel" translate>
                    action.select
                    <span translate>document.type</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="documentDocumentTypeSearchField"
                                id="documentDocumentTypeSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="documentDocumentTypeSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="documentDocumentTypes$ | async" #documentDocumentTypeModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="documentDocumentTypeSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='documentDocumentTypeSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="code">
                     <mat-header-cell *matHeaderCellDef translate>code</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.code }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="name">
                     <mat-header-cell *matHeaderCellDef translate>name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.name }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="documentDocumentTypeModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: documentDocumentTypeModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #documentDocumentTypeModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedDocumentDocumentType()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

