<!-- Generated by andromda-andromda cartridge (angular\app\view\view.component.html.vsl) DO NOT EDIT! -->
<div class="card container px-5 py-2 bg-light mb-4" #target>
	<div class="card-body">
    	<form [formGroup]="editFieldForm">
			<!-- <section>
				<div class="text-end">
					<button type="button" color="accent" (click)="editFieldCancel()" class="btn btn-primary">
						<span translate>cancel</span>
					</button>
					<button type="button" color="accent" (click)="editFieldDone()" class="btn btn-primary">
						<span translate>done</span>
					</button>
					<button type="button" color="accent" (click)="editFieldSave()" class="btn btn-primary">
						<span translate>save</span>
					</button>
					<button color="accent" type="button" (click)="editFieldFormReset()" class="btn btn-primary" ><span translate>reset</span></button>
				</div>
			</section> -->
			<div *ngIf="loading | async">
				<app-loader [isLoading]="loading | async" [size]="2" [message]="loaderMessage | async"></app-loader>
			</div>
			<div *ngIf="success | async" class="alert alert-success" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div *ngIf="error | async" class="alert alert-danger" role="alert">
				<div *ngFor="let message of messages | async">
					{{ message }}
				</div>
			</div>
			<div formGroupName="formField">
				<fieldset class="mb-3" formGroupName="form">
				    <div class="row mb-3">
				        <label for="formFieldFormFormName" class="col-sm-2 col-form-label" translate>form.name</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="formFieldFormFormName" value="{{formFieldForm?.formName }}">
				        </div>
				    </div>
				    <div class="row mb-3">
				        <label for="formFieldFormEntryType" class="col-sm-2 col-form-label" translate>entry.type</label>
				        <div class="col-sm-10">
				            <input type="text" readonly class="form-control-plaintext" id="formFieldFormEntryType" value="{{formFieldForm?.entryType }}">
				        </div>
				    </div>
				</fieldset>
				<div class="mb-3" formGroupName="formSection">
				    <label id="formFieldFormSection_label" class="col-sm-2 col-form-label" for="formFieldFormSection"><span translate>form.section</span>*</label>
				    <select id="formFieldFormSection" class="form-select" formControlName="id"  required>
				        <option *ngFor="let item of formFieldFormSectionBackingList" [value]="item.value">{{ item.label }}</option>
				    </select>
				    <div *ngIf="editFieldForm.invalid && formFieldFormSectionControl.invalid && (formFieldFormSectionControl.dirty || formFieldFormSectionControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="formFieldFormSectionControl.errors['required']">
				            <span translate>form.section.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="formFieldFieldType_label" class="col-sm-2 col-form-label" for="formFieldFieldType"><span translate>field.type</span>*</label>
				    <select id="formFieldFieldType" class="form-select" formControlName="fieldType"  required>
				        <option></option>
				        <option *ngFor="let key of fieldTypeOptions" [value]="key">
				            {{ fieldTypeT[key] }}
				        </option>
				    </select>
				    <div *ngIf="editFieldForm.invalid && formFieldFieldTypeControl.invalid && (formFieldFieldTypeControl.dirty || formFieldFieldTypeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="formFieldFieldTypeControl.errors['required']">
				            <span translate>field.type.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="formFieldFieldId_label" class="col-sm-2 col-form-label" for="formFieldFieldId"><span translate>field.id</span></label>
				    <input type="text" id="formFieldFieldId" class="form-control" name="fieldId" formControlName="fieldId"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldFieldName_label" class="col-sm-2 col-form-label" for="formFieldFieldName"><span translate>field.name</span>*</label>
				    <input type="text" id="formFieldFieldName" class="form-control" name="fieldName" formControlName="fieldName" required/>
				    <div *ngIf="editFieldForm.invalid && formFieldFieldNameControl.invalid && (formFieldFieldNameControl.dirty || formFieldFieldNameControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="formFieldFieldNameControl.errors['required']">
				            <span translate>field.name.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="formFieldDescription_label" class="col-sm-2 col-form-label" for="formFieldDescription"><span translate>description</span></label>
					<textarea id="formFieldDescription" class="form-control" formControlName="description" ></textarea>
				</div>
				<div class="mb-3">
				    <label id="formFieldFieldValueType_label" class="col-sm-2 col-form-label" for="formFieldFieldValueType"><span translate>field.value.type</span>*</label>
				    <select id="formFieldFieldValueType" class="form-select" formControlName="fieldValueType"  required>
				        <option></option>
				        <option *ngFor="let key of fieldValueTypeOptions" [value]="key">
				            {{ fieldValueTypeT[key] }}
				        </option>
				    </select>
				    <div *ngIf="editFieldForm.invalid && formFieldFieldValueTypeControl.invalid && (formFieldFieldValueTypeControl.dirty || formFieldFieldValueTypeControl.touched)" class="alert alert-danger" role="alert">
				        <div *ngIf="formFieldFieldValueTypeControl.errors['required']">
				            <span translate>field.value.type.required</span>
				        </div>
				    </div>
				</div>
				<div class="mb-3">
				    <label id="formFieldExpression_label" class="col-sm-2 col-form-label" for="formFieldExpression"><span translate>expression</span></label>
				    <input type="text" id="formFieldExpression" class="form-control" name="expression" formControlName="expression"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldDefaultValue_label" class="col-sm-2 col-form-label" for="formFieldDefaultValue"><span translate>default.value</span></label>
				    <input type="text" id="formFieldDefaultValue" class="form-control" name="defaultValue" formControlName="defaultValue"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldRequired_label" class="col-sm-2 form-check-label" for="formFieldRequired"><span translate>required</span></label>
				    <input type="checkbox" id="formFieldRequired" class="form-check-input" formControlName="required" onLabel="#{yes}" offLabel="#{messages['no']}" onIcon="ui-icon-check" offIcon="ui-icon-close"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldMin_label" class="col-sm-2 col-form-label" for="formFieldMin"><span translate>min</span></label>
				    <input type="number" id="formFieldMin" class="form-control" name="min" formControlName="min"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldMax_label" class="col-sm-2 col-form-label" for="formFieldMax"><span translate>max</span></label>
				    <input type="number" id="formFieldMax" class="form-control" name="max" formControlName="max"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldUnits_label" class="col-sm-2 col-form-label" for="formFieldUnits"><span translate>units</span></label>
				    <select multiple size="5" id="formFieldUnits" class="form-select" formControlName="units" >
				        <option></option>
				        <option *ngFor="let item of formFieldUnitsBackingList" [value]="item.value">{{ item.label }}</option>
				    </select>
				</div>
				<div class="mb-3">
				    <label id="formFieldOptions_label" class="col-sm-2 form-check-label" for="formFieldOptions"><span translate>options</span></label>
				    <article formArrayName="options" id="formFieldOptionsArticle">
				        <mat-form-field class="form-group">
				            <mat-label translate>select.value.text</mat-label>
				            <mat-select name="formFieldOptionsSelector" id="formFieldOptionsSelector" (selectionChange)="onFormFieldOptionsChange($event)">
				                <mat-option *ngFor="let item of formFieldOptionsBackingList" [value]="item.value">
				                    {{ item.label }}
				                </mat-option>
				            </mat-select>
				        </mat-form-field>
				        <ul class="list-group" *ngFor="let control of formFieldOptionsControl.controls; let i = index">
				            <li class="list-group-item">
				                <button type="button" class="btn btn-primary" (click)="formFieldOptionsDelete(i)">
				                    <i class="bi bi-trash"></i>
				                </button>
				                {{ getFormFieldOptionsLabel(control.value) }} 
				            </li>
				        </ul>
				    </article>
				</div>
				<div class="mb-3">
				    <label id="formFieldMinLength_label" class="col-sm-2 col-form-label" for="formFieldMinLength"><span translate>min.length</span></label>
				    <input type="number" id="formFieldMinLength" class="form-control" name="minLength" formControlName="minLength"/>
				</div>
				<div class="mb-3">
				    <label id="formFieldMaxLength_label" class="col-sm-2 col-form-label" for="formFieldMaxLength"><span translate>max.length</span></label>
				    <input type="number" id="formFieldMaxLength" class="form-control" name="maxLength" formControlName="maxLength"/>
				</div>
        	</div>
    	</form>

		<div class="text-end">
			<button type="button" color="accent" (click)="editFieldCancel()" class="btn btn-outline-primary">
				<span translate>cancel</span>
			</button>
			<button type="button" color="accent" (click)="editFieldDone()" class="btn btn-outline-primary">
				<span translate>done</span>
			</button>
			<button type="button" color="accent" (click)="editFieldSave()" (click)="scroll(target)" class="btn btn-outline-primary">
				<span translate>save</span>
			</button>
			<button color="accent" type="button" (click)="editFieldFormReset()" (click)="scroll(target)" class="btn btn-outline-primary" ><span translate>reset</span></button>
		</div>
	</div>
</div>
<!-- Modal for form -->
<div class="modal fade" id="formFieldFormModal" tabindex="-1" aria-labelledby="formFieldFormLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="formFieldFormAddLabel" translate>
                    action.select
                    <span translate>form</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div>
                    <form>
                        <div>
                            <mat-form-field>
                            <mat-label translate>search</mat-label>
                            <input matInput type="text" [formControl]="formFieldFormSearchField"
                                id="formFieldFormSearchField" />
                            </mat-form-field>
                        </div>
                        <button type="button" (click)="formFieldFormSearch()" class="btn btn-primary">
                            <mat-icon>search</mat-icon>
                        </button>
                    </form>
                </div>
             <mat-table matSort [dataSource]="formFieldFormsDataSource" #formFieldFormModalSort="matSort" class="table table-bordered" style="width: 100%;">
                 <ng-container matColumnDef="actions">
                     <mat-header-cell *matHeaderCellDef translate>actions</mat-header-cell>
                     <mat-cell *matCellDef="let row; let i=index">
                         <mat-radio-group (change)="formFieldFormSelected($event, row)">
                             <mat-radio-button [value]="row" [checked]='formFieldFormSelect.id === row?.id'></mat-radio-button>
                         </mat-radio-group>
                     </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="id">
                     <mat-header-cell *matHeaderCellDef translate>id</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.id }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="code">
                     <mat-header-cell *matHeaderCellDef translate>code</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.code }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="formName">
                     <mat-header-cell *matHeaderCellDef translate>form.name</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.formName }} </mat-cell>
                 </ng-container>
                 <ng-container matColumnDef="entryType">
                     <mat-header-cell *matHeaderCellDef translate>entry.type</mat-header-cell>
                     <mat-cell *matCellDef="let row"> {{ row?.entryType }} </mat-cell>
                 </ng-container>
                 <mat-header-row *matHeaderRowDef="formFieldFormModalColumns"></mat-header-row>
                 <mat-row *matRowDef="let row; columns: formFieldFormModalColumns;"></mat-row>
             </mat-table>
             <mat-paginator #formFieldFormModalPaginator="matPaginator" [pageSize]="10" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" translate>action.close</button>
                <button type="button" class="btn btn-primary" (click)="addSelectedFormFieldForm()" data-bs-dismiss="modal" translate>save</button>
            </div>
        </div>
    </div>
</div>

