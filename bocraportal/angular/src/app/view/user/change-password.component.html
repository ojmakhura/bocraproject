<!-- Generated by andromda-andromda cartridge (angular\app\view\view.component.html.vsl) DO NOT EDIT! -->
<h1 mat-dialog-title translate>
	<span *ngIf="userId; else newPassword">change.password</span>
	<ng-template #newPassword><span>Set Password</span></ng-template>
</h1>
<div mat-dialog-content class="container" style="width: 500px;">
	<div class="card-body">
		<form [formGroup]="changePasswordForm">
			<!-- <div *ngIf="loading | async">
				<app-loader [isLoading]="loading | async" [size]="2" [message]="loaderMessage | async"></app-loader>
			</div> -->
			<div *ngIf="passwordMessages && passwordMessages?.length > 0" class="alert alert-success" role="alert">
				<div *ngFor="let message of passwordMessages">
					{{ message }}
				</div>
			</div>
			<div *ngIf="passwordErrors && passwordErrors?.length > 0" class="alert alert-danger" role="alert">
				<div *ngFor="let error of passwordErrors">
					{{ error }}
				</div>
			</div>
			<div class="mb-3" *ngIf="userId">
				<label id="currentPassword_label" class="col-sm-2 col-form-label" for="currentPassword"><span
						translate>current.password</span>*</label>
				<input type="password" id="currentPassword" class="form-control" name="currentPassword"
					formControlName="currentPassword" required />
				<div *ngIf="changePasswordForm.invalid && currentPasswordControl.invalid && (currentPasswordControl.dirty || currentPasswordControl.touched)"
					class="alert alert-danger" role="alert">
					<div *ngIf="currentPasswordControl.errors['required']">
						<span translate>Current password.required</span>
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label id="newPassword_label" class="col-sm-2 col-form-label" for="newPassword"><span
						translate>new.password</span>*</label>
				<input type="password" id="newPassword" class="form-control" name="newPassword"
					formControlName="newPassword" required />
				<div *ngIf="changePasswordForm.invalid && newPasswordControl.invalid && (newPasswordControl.dirty || newPasswordControl.touched)"
					class="alert alert-danger" role="alert">
					<div *ngIf="newPasswordControl.errors['required']">
						<span translate>new.password.required</span>
					</div>
					<div *ngIf="newPasswordControl.errors['pattern']">
						<span>Password must contain more than 8 characters, 1 upper case letter, and 1 special character</span>
					</div>
				</div>
			</div>
			<div class="mb-3">
				<label id="confirmPassword_label" class="col-sm-2 col-form-label" for="confirmPassword"><span
						translate>confirm.password</span>*</label>
				<input type="password" id="confirmPassword" class="form-control" name="confirmPassword"
					formControlName="confirmPassword" required />
				<div *ngIf="changePasswordForm.invalid && confirmPasswordControl.invalid && (confirmPasswordControl.dirty || confirmPasswordControl.touched)"
					class="alert alert-danger" role="alert">
					<div *ngIf="confirmPasswordControl.errors['required']">
						<span translate>confirm.password.required</span>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
<div mat-dialog-actions>
	<button type="button" class="btn btn-primary" color="accent" mat-dialog-close translate>action.cancel</button>
	<button type="button" class="btn btn-primary" color="accent" (click)="dialogDone()" translate>action.done</button>
</div>